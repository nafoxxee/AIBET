# üéØ AIBET Analytics Platform - Fixed Version

## üìã **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Senior Engineer**

### **‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û:**
1. **‚ùå –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ HLTV API** - —Ç–æ–ª—å–∫–æ HTML –ø–∞—Ä—Å–∏–Ω–≥
2. **‚ùå –£–¥–∞–ª–µ–Ω—ã –±—É–∫–º–µ–∫–µ—Ä—ã** - –±–µ–∑ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
3. **‚ùå –£–¥–∞–ª–µ–Ω—ã VPN/Proxy** - –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã
4. **‚ùå –£–¥–∞–ª–µ–Ω—ã –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã** - cron-–ø–æ–¥–æ–±–Ω—ã–µ –∑–∞–¥–∞—á–∏
5. **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ CallbackQuery** - –∏–º–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
6. **‚úÖ SQLite –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã**
7. **‚úÖ Render Free –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - 6 —á–∞—Å–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üèóÔ∏è **–ê–†–•–ò–¢–ï–ö–¢–£–†–ê:**

### **üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **`main_fixed.py`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫
- **`database_fixed.py`** - SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **`parsers/cs2_parser_fixed.py`** - CS2 HTML –ø–∞—Ä—Å–µ—Ä
- **`parsers/khl_parser_fixed.py`** - –ö–•–õ HTML –ø–∞—Ä—Å–µ—Ä
- **`ml_models_fixed.py`** - ML –º–æ–¥–µ–ª–∏ (—Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- **`signal_generator_fixed.py`** - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤
- **`telegram_bot_fixed.py`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –±–æ—Ç
- **`api_server_fixed.py`** - FastAPI —Å–µ—Ä–≤–µ—Ä
- **`telegram_publisher_fixed.py`** - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –∫–∞–Ω–∞–ª—ã

### **üìä –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
- **CS2**: Liquipedia (–æ—Å–Ω–æ–≤–Ω–æ–π) + HLTV.org (fallback)
- **–ö–•–õ**: Livesport.com + KHL.ru
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: SQLite (6 —á–∞—Å–æ–≤)
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –¢–æ–ª—å–∫–æ —Ç–æ–ø –∫–æ–º–∞–Ω–¥—ã

---

## üöÄ **–ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´:**

### **–õ–æ–∫–∞–ª—å–Ω–æ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
SERVICE_TYPE=web python main_fixed.py

# –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞
SERVICE_TYPE=bot python main_fixed.py
```

### **Render –¥–µ–ø–ª–æ–π:**
```bash
# –ó–∞–º–µ–Ω–∏—Ç—å render.yaml –Ω–∞ render_fixed.yaml
cp render_fixed.yaml render.yaml

# –î–µ–ø–ª–æ–π
git add .
git commit -m "üéØ Fixed AIBET System - Production Ready"
git push origin main
```

---

## üìä **–§–£–ù–ö–¶–ò–û–ù–ê–õ:**

### **‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- **CS2 –º–∞—Ç—á–∏**: Liquipedia + HLTV.org HTML
- **–ö–•–õ –º–∞—Ç—á–∏**: Livesport + KHL.ru
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 6 —á–∞—Å–æ–≤ –≤ SQLite
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –¢–æ–ø-30 CS2, –≤—Å–µ –ö–•–õ –∫–æ–º–∞–Ω–¥—ã

### **ü§ñ ML –º–æ–¥–µ–ª–∏:**
- **–û–±—É—á–µ–Ω–∏–µ**: –¢–æ–ª—å–∫–æ –ø—Ä–∏ ‚â•100 —Ä–µ–∞–ª—å–Ω—ã—Ö –º–∞—Ç—á–µ–π
- **–ú–æ–¥–µ–ª–∏**: LogisticRegression, RandomForest
- **–§–∏—á–∏**: Win rate, —Ñ–æ—Ä–º–∞, —Å—á–µ—Ç, H2H
- **Fallback**: Rule-based –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö

### **üéØ –°–∏–≥–Ω–∞–ª—ã:**
- **–£—Å–ª–æ–≤–∏–µ**: Probability ‚â• 70%
- **–õ–∏–º–∏—Ç**: 10 —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ –¥–µ–Ω—å
- **–ö–∞–Ω–∞–ª—ã**: @aibetcsgo, @aibetkhl
- **–§–æ—Ä–º–∞—Ç**: –ë–µ–∑ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤

### **üì± Mini App:**
- **–î–∞–Ω–Ω—ã–µ**: –¢–æ–ª—å–∫–æ –∏–∑ SQLite
- **–°—Ç–∞—Ç—É—Å**: "–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è" –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö
- **UI**: Bootstrap 5, —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
- **–†–∞–∑–¥–µ–ª—ã**: –ú–∞—Ç—á–∏, —Å–∏–≥–Ω–∞–ª—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üîß **–ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø:**

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
# –û–±—â–∏–µ
SERVICE_TYPE=web|bot
PYTHON_VERSION=3.9.0

# Telegram –±–æ—Ç
TELEGRAM_BOT_TOKEN=your_token
ADMIN_ID=379036860
CS2_CHANNEL=@aibetcsgo
KHL_CHANNEL=@aibetkhl

# URLs
AIBET_WEB_URL=https://aibet-mini-app.onrender.com
```

### **–ü–æ—Ä—Ç—ã:**
- **API —Å–µ—Ä–≤–µ—Ä**: 1000
- **Health –±–æ—Ç**: 1001

---

## üìà **–†–ê–°–ü–ò–°–ê–ù–ò–ï:**

### **Render Free –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤**: –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- **ML –æ–±—É—á–µ–Ω–∏–µ**: –ü—Ä–∏ ‚â•100 –º–∞—Ç—á–µ–π
- **–û—á–∏—Å—Ç–∫–∞**: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üõ°Ô∏è **–û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö:**

### **–ü–∞—Ä—Å–µ—Ä—ã:**
- **403/429**: Retry —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
- **Timeout**: 3 –ø–æ–ø—ã—Ç–∫–∏
- **Fallback**: –°–ª–µ–¥—É—é—â–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–∏ —É—Å–ø–µ—Ö–µ

### **ML:**
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö**: Rule-based
- **–û—à–∏–±–∫–∞ –º–æ–¥–µ–ª–∏**: Fallback
- **–ù–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**: –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### **–ë–æ—Ç:**
- **CallbackQuery**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã
- **–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö**: "–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è"
- **–û—à–∏–±–∫–∏**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ + fallback

---

## üìä **–°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´:**

### **Health checks:**
- **API**: `/api/health`
- **Bot**: `/health`
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite —Å—Ç–∞—Ç—É—Å
- **–ü–∞—Ä—Å–µ—Ä—ã**: –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- **–õ–æ–≥–∏**: `logs/app.log`
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: `/api/stats`
- **–°–∏–≥–Ω–∞–ª—ã**: `/api/signals/active`

---

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**

### **‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- **–ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** –±–µ–∑ –æ—à–∏–±–æ–∫
- **Mini App –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç** —Ä–µ–∞–ª—å–Ω—ã–µ –º–∞—Ç—á–∏
- **–ë–∞–∑–∞ –Ω–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è** –¥–∞–Ω–Ω—ã–º–∏
- **ML –æ–±—É—á–∞–µ—Ç—Å—è** –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–°–∏–≥–Ω–∞–ª—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### **‚ùå –ò—Å–∫–ª—é—á–µ–Ω–æ:**
- HLTV API –∏ –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- –ë—É–∫–º–µ–∫–µ—Ä—Å–∫–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã
- VPN, –ø—Ä–æ–∫—Å–∏, –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã
- –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
- –ü—É—Å—Ç—ã–µ —ç–∫—Ä–∞–Ω—ã –≤ Mini App

---

## üöÄ **–ì–û–¢–û–í –ö –ü–†–û–î–ê–ö–®–ï–ù–£!**

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:**
- ‚úÖ Senior Backend/Data/ML Engineer —Å—Ç–∞–Ω–¥–∞—Ä—Ç
- ‚úÖ Render Free –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

**–î–ï–ü–õ–û–ô–¢–¨ –ò –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨!** üéâ
