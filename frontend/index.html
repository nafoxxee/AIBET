<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI BET Analytics</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="app">
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="main-screen" class="screen active">
            <header class="header">
                <h1>üéØ AI BET Analytics</h1>
                <div class="user-info">
                    <span id="username">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                </div>
            </header>
            
            <nav class="main-nav">
                <button class="nav-btn" onclick="showScreen('cs2-screen')">
                    <span class="icon">üî´</span>
                    <span class="label">CS2 –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
                </button>
                <button class="nav-btn" onclick="showScreen('khl-screen')">
                    <span class="icon">üèí</span>
                    <span class="label">–ö–•–õ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
                </button>
                <button class="nav-btn" onclick="showScreen('live-screen')">
                    <span class="icon">üî¥</span>
                    <span class="label">Live –ú–∞—Ç—á–∏</span>
                </button>
                <button class="nav-btn" onclick="showScreen('prematch-screen')">
                    <span class="icon">üìä</span>
                    <span class="label">–ü—Ä–µ–¥–º–∞—Ç—á</span>
                </button>
                <button class="nav-btn" onclick="showScreen('history-screen')">
                    <span class="icon">üìà</span>
                    <span class="label">–ò—Å—Ç–æ—Ä–∏—è</span>
                </button>
                <button class="nav-btn" onclick="showScreen('stats-screen')">
                    <span class="icon">üìâ</span>
                    <span class="label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                </button>
                <button class="nav-btn" onclick="showScreen('confidence-screen')">
                    <span class="icon">‚≠ê</span>
                    <span class="label">Confidence</span>
                </button>
                <button class="nav-btn" onclick="showScreen('status-screen')">
                    <span class="icon">üîß</span>
                    <span class="label">–°—Ç–∞—Ç—É—Å</span>
                </button>
                <button class="nav-btn admin-only" onclick="showScreen('admin-screen')" style="display: none;">
                    <span class="icon">‚öôÔ∏è</span>
                    <span class="label">–ê–¥–º–∏–Ω</span>
                </button>
            </nav>
            
            <div class="status-bar">
                <span id="connection-status">üü¢ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ</span>
                <span id="last-update">–û–±–Ω–æ–≤–ª–µ–Ω–æ: --:--</span>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω CS2 –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ -->
        <div id="cs2-screen" class="screen">
            <header class="header">
                <button class="back-btn" onclick="showScreen('main-screen')">‚Üê</button>
                <h1>üî´ CS2 –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h1>
                <button class="refresh-btn" onclick="refreshCS2Data()">üîÑ</button>
            </header>
            
            <div class="content">
                <div class="filter-section">
                    <select id="cs2-tournament-filter">
                        <option value="all">–í—Å–µ —Ç—É—Ä–Ω–∏—Ä—ã</option>
                        <option value="s-tier">S Tier</option>
                        <option value="a-tier">A Tier</option>
                        <option value="b-tier">B Tier</option>
                    </select>
                    <select id="cs2-confidence-filter">
                        <option value="all">–í—Å–µ —É—Ä–æ–≤–Ω–∏</option>
                        <option value="high">–í—ã—Å–æ–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</option>
                        <option value="medium">–°—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</option>
                        <option value="low">–ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</option>
                    </select>
                </div>
                
                <div id="cs2-matches" class="matches-list">
                    <!-- –ú–∞—Ç—á–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ö–•–õ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ -->
        <div id="khl-screen" class="screen">
            <header class="header">
                <button class="back-btn" onclick="showScreen('main-screen')">‚Üê</button>
                <h1>üèí –ö–•–õ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h1>
                <button class="refresh-btn" onclick="refreshKHLData()">üîÑ</button>
            </header>
            
            <div class="content">
                <div class="filter-section">
                    <select id="khl-tournament-filter">
                        <option value="all">–í—Å–µ –º–∞—Ç—á–∏</option>
                        <option value="regular">–†–µ–≥—É–ª—è—Ä–Ω—ã–π —Å–µ–∑–æ–Ω</option>
                        <option value="playoffs">–ü–ª–µ–π-–æ—Ñ—Ñ</option>
                    </select>
                    <select id="khl-confidence-filter">
                        <option value="all">–í—Å–µ —É—Ä–æ–≤–Ω–∏</option>
                        <option value="high">–í—ã—Å–æ–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</option>
                        <option value="medium">–°—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</option>
                        <option value="low">–ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</option>
                    </select>
                </div>
                
                <div id="khl-matches" class="matches-list">
                    <!-- –ú–∞—Ç—á–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω Live –º–∞—Ç—á–µ–π -->
        <div id="live-screen" class="screen">
            <header class="header">
                <button class="back-btn" onclick="showScreen('main-screen')">‚Üê</button>
                <h1>üî¥ Live –ú–∞—Ç—á–∏</h1>
                <button class="refresh-btn" onclick="refreshLiveData()">üîÑ</button>
            </header>
            
            <div class="content">
                <div class="live-stats">
                    <div class="stat-card">
                        <span class="stat-value" id="live-cs2-count">0</span>
                        <span class="stat-label">CS2 Live</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="live-khl-count">0</span>
                        <span class="stat-label">–ö–•–õ Live</span>
                    </div>
                </div>
                
                <div id="live-matches" class="matches-list">
                    <!-- Live –º–∞—Ç—á–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø—Ä–µ–¥–º–∞—Ç—á–µ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ -->
        <div id="prematch-screen" class="screen">
            <header class="header">
                <button class="back-btn" onclick="showScreen('main-screen')">‚Üê</button>
                <h1>üìä –ü—Ä–µ–¥–º–∞—Ç—á</h1>
                <button class="refresh-btn" onclick="refreshPrematchData()">üîÑ</button>
            </header>
            
            <div class="content">
                <div class="time-filter">
                    <button class="time-btn active" data-hours="3">3 —á–∞—Å–∞</button>
                    <button class="time-btn" data-hours="6">6 —á–∞—Å–æ–≤</button>
                    <button class="time-btn" data-hours="12">12 —á–∞—Å–æ–≤</button>
                    <button class="time-btn" data-hours="24">24 —á–∞—Å–∞</button>
                </div>
                
                <div id="prematch-matches" class="matches-list">
                    <!-- –ü—Ä–µ–¥–º–∞—Ç—á–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∏—Å—Ç–æ—Ä–∏–∏ -->
        <div id="history-screen" class="screen">
            <header class="header">
                <button class="back-btn" onclick="showScreen('main-screen')">‚Üê</button>
                <h1>üìà –ò—Å—Ç–æ—Ä–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤</h1>
                <button class="refresh-btn" onclick="refreshHistory()">üîÑ</button>
            </header>
            
            <div class="content">
                <div class="history-stats">
                    <div class="stat-card">
                        <span class="stat-value" id="total-signals">0</span>
                        <span class="stat-label">–í—Å–µ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="success-rate">0%</span>
                        <span class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="current-streak">0</span>
                        <span class="stat-label">–°–µ—Ä–∏—è</span>
                    </div>
                </div>
                
                <div id="history-list" class="history-list">
                    <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <div id="stats-screen" class="screen">
            <header class="header">
                <button class="back-btn" onclick="showScreen('main-screen')">‚Üê</button>
                <h1>üìâ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
                <button class="refresh-btn" onclick="refreshStats()">üîÑ</button>
            </header>
            
            <div class="content">
                <div class="stats-tabs">
                    <button class="tab-btn active" data-tab="cs2">CS2</button>
                    <button class="tab-btn" data-tab="khl">–ö–•–õ</button>
                    <button class="tab-btn" data-tab="general">–û–±—â–∞—è</button>
                </div>
                
                <div id="stats-content" class="stats-content">
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–π—Ç–∏–Ω–≥–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ -->
        <div id="confidence-screen" class="screen">
            <header class="header">
                <button class="back-btn" onclick="showScreen('main-screen')">‚Üê</button>
                <h1>‚≠ê –†–µ–π—Ç–∏–Ω–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏</h1>
                <button class="refresh-btn" onclick="refreshConfidence()">üîÑ</button>
            </header>
            
            <div class="content">
                <div class="confidence-legend">
                    <div class="legend-item high">
                        <span class="color"></span>
                        <span>–í–´–°–û–ö–ê–Ø (80-100%)</span>
                    </div>
                    <div class="legend-item medium">
                        <span class="color"></span>
                        <span>–°–†–ï–î–ù–Ø–Ø (50-79%)</span>
                    </div>
                    <div class="legend-item low">
                        <span class="color"></span>
                        <span>–ù–ò–ó–ö–ê–Ø (0-49%)</span>
                    </div>
                </div>
                
                <div id="confidence-list" class="confidence-list">
                    <!-- –†–µ–π—Ç–∏–Ω–≥–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã -->
        <div id="status-screen" class="screen">
            <header class="header">
                <button class="back-btn" onclick="showScreen('main-screen')">‚Üê</button>
                <h1>üîß –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</h1>
                <button class="refresh-btn" onclick="refreshStatus()">üîÑ</button>
            </header>
            
            <div class="content">
                <div class="system-status">
                    <div class="status-item">
                        <span class="status-label">Backend:</span>
                        <span class="status-value" id="backend-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">CS2 Parser:</span>
                        <span class="status-value" id="cs2-parser-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">KHL Parser:</span>
                        <span class="status-value" id="khl-parser-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">ML Models:</span>
                        <span class="status-value" id="ml-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Telegram Bot:</span>
                        <span class="status-value" id="telegram-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                    </div>
                </div>
                
                <div class="system-info">
                    <h3>–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    <div id="system-details">
                        <!-- –î–µ—Ç–∞–ª–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
        <div id="admin-screen" class="screen">
            <header class="header">
                <button class="back-btn" onclick="showScreen('main-screen')">‚Üê</button>
                <h1>‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h1>
            </header>
            
            <div class="content">
                <div class="admin-actions">
                    <button class="admin-btn" onclick="adminAction('run-analysis')">
                        <span class="icon">üöÄ</span>
                        <span>–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑</span>
                    </button>
                    <button class="admin-btn" onclick="adminAction('restart-cycles')">
                        <span class="icon">üîÑ</span>
                        <span>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ü–∏–∫–ª—ã</span>
                    </button>
                    <button class="admin-btn" onclick="adminAction('retrain-ml')">
                        <span class="icon">üß†</span>
                        <span>–ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å ML</span>
                    </button>
                    <button class="admin-btn" onclick="adminAction('test-mode')">
                        <span class="icon">üß™</span>
                        <span>–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º</span>
                    </button>
                    <button class="admin-btn" onclick="adminAction('clear-cache')">
                        <span class="icon">üóëÔ∏è</span>
                        <span>–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à</span>
                    </button>
                    <button class="admin-btn" onclick="adminAction('backup-data')">
                        <span class="icon">üíæ</span>
                        <span>–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è</span>
                    </button>
                </div>
                
                <div class="admin-logs">
                    <h3>–°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏</h3>
                    <div id="admin-log-content">
                        <!-- –õ–æ–≥–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
